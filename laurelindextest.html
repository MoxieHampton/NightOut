 <!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <title>map test for night out</title>
<!-- Added link to the jQuery Library -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <!-- Added a link to Bootstrap-->
  <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!--link to axios to simplify the usua AJAX call, new tech example, and postman too-->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!--link to google maps API-->
 <script async defer src="http://maps.googleapis.com/maps?file=api&amp;v=2&amp;key=AIzaSyDmZyph_0mPWdXM8yXSLT669Z_G3lttS_U"></script>
  </head>
<body>
  <div class="jumbotron">
  <h1>Night Out</h1>
  <p id="slogan">Let's have fun!</p>
  </div>
<div class="container-fluid">
<!--pick an event panel with event buttons-->
    <div class="panel panel-default">
  <div class="panel-heading">Pick an Event</div>
  <div class="panel-body">
 <div id="eventButton">   
<button type="button" id="weatherButton" class="btn btn-outline-danger btn-lg">Weather</button>
 </div>
 <!--form in which the user inputs their location-->
<div id="cityInput">
<!--space where user enters their location-->
    <input type="text" id="cityInput">
    <button class="btn btn-danger" type="submit">Set City</button>
</div>
<div id="preferredCity"></div>
<div id="weather"></div>


<br><br>
<div id="allMapInfo">
<h2 id="text-center">Enter Location: </h2>
<form id="location-form">
    <input type="text" id="location-input" class="form-control form-control-lg" placeholder="Enter Your City, State">
    <br>
    <button type="submit" class="btn btn-primary btn-block" >Submit</button>
    </form>
<!--empty div for the map-->
    <div class="well" id="mapSpace">
    </div>
    <div class="well" id="address-components"></div>
    <div id="geometryInfo"></div>
</div><!--ends all map info div-->
<script>
//call geocode after the form!!!
//geocode();

//get location form
var locationForm = document.getElementById('location-form');

//listen for the submit here 
locationForm.addEventListener('submit', geocode);

    function geocode(event){
        //prevent actual submit
        event.preventDefault();
        var location = document.getElementById('location-input').value;
        axios.get('https://maps.googleapis.com/maps/api/geocode/json?', {
            params:{
                address: location, 
                key:'AIzaSyDmZyph_0mPWdXM8yXSLT669Z_G3lttS_U'
            }

        })
        .then(function(response){
            //logging the full response
            console.log(response);

            //formatting the address from the data object, then dive into array for a single object
            console.log(response.data.results[0].formatted_address);
            var formattedAddress = response.data.results[0].formatted_address;
            //can use back ticks to great a templatte with multiple lines!!!
            var formattedAddressOutput = `
                <ul class="list-group">
                <li class="list-group-item">${formattedAddress}</li>
                </ul>

            `;

            //address components 
            var addressComponents = response.data.results[0].address_components;
            //loop through that array to get the rest of the address info 
            var addressComponentsOutput = '<ul class="list-group">';
            for(var i = 0; i < addressComponents.length; i++){
                //have to add to output variable; also add to template, ${} is just a variable/selector 
                addressComponentsOutput += `
                <li class="list-group-item"><strong>${addressComponents[i].types[0]}</strong>:${addressComponents[i].long_name}</li>
                `;
            }
            addressComponentsOutput += '</ul>';
            //geometry Info
            var lat = response.data.results[0].geometry.location.lat;
            var lng = response.data.results[0].geometry.location.lng;
            var geometryOutput = `<li class="list-group-item"><strong>Latitude</strong>:${lat}</li>
            <li class="list-group-item"><strong>Longitude</strong>:${lng}</li>

            `;

            //output to the mapSpace, address-components,  div
            document.getElementById('mapSpace').innerHTML = formattedAddressOutput;
            document.getElementById('address-components').innerHTML = addressComponentsOutput;
            document.getElementById('geometryInfo').innerHTML = geometryOutput;

        })
        .catch(function(error){
            console.log("error!!!");
        });

        }
</script>
<!--<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>-->
<!--<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDJBPs135vP7VHNPJKzdMZ39fRMXeyd8dY",
    authDomain: "nightout-81410.firebaseapp.com",
    databaseURL: "https://nightout-81410.firebaseio.com",
    projectId: "nightout-81410",
    storageBucket: "nightout-81410.appspot.com",
    messagingSenderId: "1000413859626"
  };
  firebase.initializeApp(config);
  
</script>-->

 <!--javascript   -->
    <script src="javascript.js" type="text/javascript"></script>
     
</body>
</html>